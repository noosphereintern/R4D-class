---
title: "Class 16 - In class exercises"
author: Hari Subhash
date: "Date created: `r Sys.Date()`"
output:
  html_notebook:
    highlight: haddock
    smart: yes
    theme: readable
    df_print: paged
---

###Task Set 1: Conditionals

The code below samples 10 values at random from a vector containing the values from 1 to 30 and 5 missing values (generated by the `rep()` command). Run the entire chunk below to generate the vector x.
```{r}
c(1:30, rep(NA, times = 5))
```

```{r}
x <- sample(c(1:30, rep(NA, times = 5)), size = 10)
x
```

1. Check if there are `any()` missing values in x using `is.na()`

```{r}
is.na(x)
```


```{r}
any(is.na(x))
```

2. If there are `any()` missing values in x then replace all values in x with its squared value else replace it with the square root. You can calculate the square using the following syntax `x ^ 2` and the square root using `x ^ 0.5`

```{r}
if(any(is.na(x))) {
    x <- x ^ 2
} else {
    x <- x ^ 0.5
}
```

```{r}
x
```

```{r}
x <- if_else(any(is.na(x)), x ^ 2, x ^ 0.5)
```

5. Use an `if_else()` here. If x is NA then replace it with 1 else replace it with the square of x. Make sure you have the tidyverse loaded since `if_else()` comes from dplyr. The syntax for an `if_else()` is as follows: `if_else(condition, val1, val2)` where condition is something evaluates to a TRUE or FALSE vector that is same length as the val1 and val2.

```{r}
x <- if_else(is.na(x), 1, x ^ 2)

x
```


6. Use `case_when()` here. If x is NA then replace it with the string "missing". If it is divisible by 2 (i.e. x %% 2 == 0) then replace it with "even". Everything else should be labelled "odd". The syntax for `case_when()` is as follows: `case_when(condition1 ~ val1, condition2 ~ val1,...., TRUE ~ valueforeverythingelse)`


###Task Set 2: Write a for loop
1. Create a sequence of numbers from 1 to 50 store it in a variable x
```{r}
x <- 1:50
```


2. Complete the code below to write a for loop that returns "even" if a number in the vector you created above is even and "odd" otherwise.
```{r}
odds_evens <- vector("character", length = length(x))
for (i in seq_along(x)) {
    odds_evens[] <- if( %% 2 == 0)
}

odds_evens
```

3. Now complete the code below to do the same thing with an `if_else()` statement and store the results in a variable called odds_evens2

```{r}
odds_evens2 <- if_else()

odds_evens2
```

4. Use the `identical()` function to check if the odds_evens is identical to odds_evens2.

5. Load the gapminder dataset

6. Store all the column names in the gapminder dataset in a variable called gap_names. Use the `names()` function to get the names of the data.

```{r}
library(gapminder)

gap_names <- 
```

7. Complete the code below to calculate the mean for all columns that have numeric data and 1 otherwise. Since this is a large chunk of code, it might help to complete each piece and print the output for that section using `print()` to see if it matches your expectation before proceeding. I have commented out the code, uncomment to edit it.
```{r}
##initializing the output vector
output <- vector("numeric", length = length(gap_names))

##starting the for loop to go through the indices of the gap_names vector (use seq_along() for this). Try printing out seq_along(gap_names) to see how that looks. See the syntax for the previous question on for loops for further hints.
for (i in ) {
    ##get the name of the column from gap_names using i
    
    #col_name <- gap_names[]
    
    ##pull the col_name from gapminder as an atomic vector
    
    #col_data <- pull(gapminder, col_name)
    
    ##set the name of the output vector for this position to be the same as col_name
    
    #names(output)[i] <- col_name
    
    ##if col_data is numeric then calculate its mean else assign the value 1. Store the result in ith position of the output
    
    # output[] <- if(is.numeric()) {
    #     mean() %>% round(digits = 2)
    # } else {
    #     1
    # }
}
output
```



